# Task 0

1. author finish!
2. Liicence finish! wait to explore.
3. environment finish!
4. Github Action finish! wait to learn action.
   
git删除已经存在的origin git `remote rm origin`

添加远程仓库：git remote add origin 仓库地址

这里两份代码一份是克隆了助教的库，一份是复制到自己的库（有点复杂）

# Task 1

解决了问题：关于indicatif包和在Cargo.toml中的依赖

6.20 对代码分成多个模块，增加了注释，
保持了风格的一致性并且尽量减少了不必要的克隆，对rust有了一点更深刻的理解。

使用visio给多模块的代码画出了暂时的框架图

在完成前一段时间的成果的整理之后，开始对于**前表面和后表面**和**多物体**的探究

6.21

由于后面部分代码复杂，不再适合对着代码写，所以决定只总结文字的意思而自己实现看效果

## hittable

显然一条线可能与多个物体有交点，但我们只需要最近的那个交点，所以需要把这个光线和所有物体算最近的交点取最近的

## front face and back face

给出了4张图解，分两组表示两种区分内外的形式

第一种是始终指向“外部”，第二种是始终与ray相反

我们的目的是确定光是从哪来的（两个方向应该有不一样的效果的物体很重要，如一张纸的两面）

### 第一种：始终指向外部

1. 如果ray和normal同向（点乘为正）那么是内部
2. 点乘为负，为外部

### 第二种：始终相反

显然不能点乘，但是由于我们需要存储信息。。。作为开发者，已经确定使用第一种了，所以这边不用学习了直接跳。

## object list

rust中有vector，书中聊c++特性，与我无瓜，

由于目前还不需要两面，所以先完成另外两项功能，即多物体，需要了再回来补。

存在一些小问题在于自由发挥，但是最后还算解决了，问题出在我合并了t和t——max，t可能是无穷，但不可能为负，所以判断条件要改变

## 多次采样

完成，有效果

# Diffuse Materials 漫反射材料

## 概述

漫反射材料

1. 反射问题
2. 吸收光线问题（为什么是暗色的）
3. 光线来自周围环境

实际上任何随机方向的算法都可以产生看似漫反射材料的材质

### 反射光线

在$P+n$为中心的单位球中随机取点：

**方法**：rejection method 在方块中随机取点直到在球中（考虑如何**优化**）

得到的反射光线为取得的S减去入射点P

通过递归，如果命中，那么返回反射光线是否命中的颜色（这使得颜色必然来自于背景）

### 限制子光线数量

当反射层数太多的时候返回（0，0，0）（没有色彩）

### garmma

使用了幂函数使得gamma可以调整

### 微调

shadow acne problem

t最小提高到0.001（教程为0.001）

## True Lambertian Reflection

只是把方向变成单位长度

## uniform scatter均匀散射

通过从交点随机选方向，然后如果指向内部那就反向

但是暂时不想采用，因为较复杂，且效果差不多了

# 金属

为了方便代码进行，所以在球体中增加type类型

1为漫反射，2为金属